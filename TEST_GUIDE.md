# X Profile Hider テストガイド

## クイックテスト（5分）

### 1. インストール確認
- [ ] chrome://extensions/ で拡張機能が読み込まれている
- [ ] エラーが表示されていない
- [ ] 拡張機能アイコンがツールバーに表示されている

### 2. 基本機能テスト
- [ ] x.com にアクセス
- [ ] 左下にプロフィール情報が表示されている
- [ ] 拡張機能アイコンをクリックしてポップアップが開く
- [ ] トグルスイッチをONにする
- [ ] プロフィール情報が非表示になる
- [ ] バッジに「ON」が表示される

### 3. 状態確認
- [ ] ページをリロード（F5）
- [ ] 設定が維持されている（プロフィールが非表示のまま）
- [ ] トグルスイッチをOFFにする
- [ ] プロフィール情報が再表示される

## 詳細テスト（15分）

### A. 異なるページでのテスト
- [ ] ホームタイムライン (https://x.com/home)
- [ ] プロフィールページ (https://x.com/username)
- [ ] 設定ページ (https://x.com/settings)
- [ ] 通知ページ (https://x.com/notifications)

### B. ダイナミックコンテンツテスト
- [ ] タイムラインをスクロール
- [ ] 新しいツイートを投稿
- [ ] 別のプロフィールページに移動
- [ ] 各操作後もプロフィールが非表示のまま

### C. UIテスト
- [ ] ダークモード/ライトモード切り替え
- [ ] ブラウザウィンドウのリサイズ
- [ ] 複数タブで同時テスト

### D. エラー処理テスト
- [ ] インターネット接続を一時的に切断
- [ ] ページの強制リロード（Ctrl+F5）
- [ ] 拡張機能の無効化→有効化

## デバッグ手順

### 1. コンソールエラーチェック
```
1. F12でDeveloper Toolsを開く
2. Consoleタブを選択
3. 以下のメッセージを確認：
   - "Profile visibility: hidden/visible"
   - エラーメッセージがないか
```

### 2. 拡張機能ログチェック
```
1. chrome://extensions/ にアクセス
2. X Profile Hiderの「詳細」をクリック
3. 「バックグラウンドページを検証」をクリック
4. コンソールでログを確認
```

### 3. 要素確認
```
1. F12でDeveloper Toolsを開く
2. Elementsタブで以下を確認：
   - data-testid="SideNav_AccountSwitcher_Button" 要素の存在
   - style属性で visibility: hidden が適用されているか
```

## トラブルシューティング

### 問題: プロフィールが非表示にならない

**原因1: 要素が見つからない**
```
解決策:
1. X.comにログインしているか確認
2. コンソールで "Profile element not found" エラーを確認
3. 新しいセレクタが必要な可能性
```

**原因2: セレクタが変更された**
```
解決策:
1. F12 → Elements → 左下のプロフィール要素を右クリック
2. "Copy selector" でセレクタをコピー
3. content.js のセレクタリストに追加
```

### 問題: アイコンエラー

**症状: "Failed to set icon" エラー**
```
対処法:
1. バッジテキスト（ON/OFF）で状態確認
2. 機能自体は正常動作するはず
3. アイコンファイルを再生成して拡張機能を再読み込み
```

### 問題: ポップアップが開かない

**対処法:**
```
1. chrome://extensions/ で拡張機能を再読み込み
2. ブラウザを再起動
3. manifest.json の action 設定を確認
```

## 期待される動作

### 正常時
- プロフィール情報が即座に非表示/表示切り替え
- バッジに状態が表示（ON または空白）
- ページ遷移やリロード後も設定維持
- エラーメッセージなし

### 異常時でも継続すべき機能
- ポップアップUIは動作
- バッジでの状態表示
- 設定の保存/復元

## パフォーマンス確認

### Performance タブでの確認
```
1. F12 → Performance タブ
2. 録画開始
3. 拡張機能の ON/OFF を切り替え
4. 録画停止
5. CPU使用率とメモリ使用量を確認
```

### 期待値
- 切り替え時のCPU使用率: 一時的な軽微なスパイクのみ
- メモリ使用量: 大きな増加なし
- ページ読み込み時間: 影響なし